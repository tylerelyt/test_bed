# -------------------------
# Core System Dependencies
# -------------------------
gradio>=4.0.0
pandas>=1.5.0
# numpy version must be compatible with TensorFlow 2.19.0 and llamafactory
# TensorFlow 2.19.0 requires: numpy>=1.26.0,<2.2.0
# llamafactory requires: numpy<2.0.0
# Final constraint: numpy>=1.26.0,<2.0.0
numpy>=1.26.0,<2.0.0
scikit-learn>=1.2.0
jieba>=0.42.1
requests>=2.28.0
networkx>=3.0.0
psutil>=5.9.0
click>=8.0.0
# For visualization in training tab
matplotlib>=3.5.0
seaborn>=0.12.0
pyyaml>=6.0
# For model service API
flask>=2.0.0

# -------------------------
# AI & ML Features
# -------------------------
# For RAG, KG, and other LLM-based features
openai>=1.0.0

# For Word2Vec
gensim>=4.3.0

# For LLM Fine-tuning (LLaMA-Factory)
# Unified Efficient Fine-Tuning of 100+ LLMs & VLMs
# Reference: https://github.com/hiyouga/LLaMA-Factory
# Note: llamafactory requires transformers >= 4.41.2
# We use transformers 4.41.2-4.44.x to balance compatibility with TensorFlow 2.19.0
llamafactory>=0.9.0

# For Wide & Deep CTR Model (Optional)
# If not installed, the system will fall back to Logistic Regression.
# Note: TensorFlow 2.19.0 is used to avoid mutex.cc lock blocking issue on macOS
# Reference: https://github.com/tensorflow/tensorflow/issues/98563
# SOLUTION: TensorFlow 2.20.0 + PyArrow 22.0.0 + tf-keras resolves all compatibility issues
# - PyArrow 22.0.0 fixes the mutex.cc lock blocking issue on MacOS ARM  
# - TensorFlow 2.20.0 + Keras 3 + tf-keras satisfies llamafactory requirements
tensorflow==2.20.0
keras==3.12.0
tf-keras==2.20.1
pyarrow==22.0.0

# -------------------------
# Image Search (CLIP) & Generation (Stable Diffusion)
# -------------------------
# For Image Search functionality
Pillow>=9.0.0
# transformers version constraint to avoid tf-keras requirement with TensorFlow 2.19.0
# transformers >= 4.40.0 may require tf-keras when Keras 3 is detected
# llamafactory requires transformers >= 4.41.2
# We use TensorFlow 2.19.0 to fix mutex.cc issue, which conflicts with tf-keras (needs TF >= 2.20.0)
# Try transformers 4.41.x - 4.44.x range to balance compatibility
transformers>=4.41.2,<4.45.0
torch>=1.12.0
torchvision>=0.13.0
opencv-python>=4.5.0
ftfy>=6.1.1
regex>=2022.1.18

# For Image Generation with Stable Diffusion
# Hugging Face Diffusers: State-of-the-art diffusion models
diffusers>=0.27.0
# Accelerate: For faster model loading and mixed precision training
accelerate>=0.20.0
# Safetensors: Secure and fast model serialization format
safetensors>=0.4.0

# -------------------------
# GUI-Agent (Desktop Automation)
# -------------------------
# For desktop automation based on OSWorld architecture
pyautogui>=0.9.50
# PyAutoGUI depends on:
# - PyScreeze (screenshot capture)
# - PyMsgBox (message boxes)
# - PyTweening (mouse movement easing)
# These are installed automatically with pyautogui

# For keyboard event listening (ESC to interrupt tasks)
pynput>=1.7.6

# For Docker container management (OSWorld VM)
docker>=6.0.0

# For Accessibility Tree (macOS/Linux) - Optional but recommended
# macOS: Provides UI element tree structure for more precise element localization
# Linux: AT-SPI support (not yet implemented)
lxml>=6.0.0
# macOS-specific (only installs on macOS)
# pyobjc-framework-Quartz>=12.0
# pyobjc-framework-ApplicationServices>=12.0
# Note: pyobjc packages are platform-specific and should be installed manually:
#   macOS: pip install pyobjc-framework-Quartz pyobjc-framework-ApplicationServices
#   Linux: pip install python-atspi (when implemented)

# -------------------------
# Development & Tooling
# -------------------------
# Not required for running the application, but recommended for development
pytest>=7.0.0
black>=22.0.0
flake8>=5.0.0
mypy>=0.991 

# -------------------------
# MCP (Optional Server)
# -------------------------
# To expose project capabilities via Model Context Protocol (FastMCP)
fastmcp>=2.0.0

# -------------------------
# Model Evaluation & Interpretability (Teaching Features)
# -------------------------
# For model interpretability analysis
lime>=0.2.0.1
shap>=0.42.0
# For AutoML - model search and hyperparameter optimization
tpot>=0.12.0
optuna>=3.0.0