# ğŸ” Intelligent Search Engine

[![Python](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Build Status](https://img.shields.io/badge/build-passing-brightgreen.svg)](https://github.com/tylerelyt/test_bed)

ä¸€ä¸ªåŸºäºæœºå™¨å­¦ä¹ çš„æ™ºèƒ½æœç´¢å¼•æ“ç³»ç»Ÿï¼Œæ”¯æŒCTRé¢„æµ‹ã€å®æ—¶æ’åºä¼˜åŒ–å’ŒMLOpsæµæ°´çº¿ã€‚

## ğŸŒŸ ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- **ğŸ” æ™ºèƒ½æ£€ç´¢**: åŸºäºTF-IDFçš„å€’æ’ç´¢å¼•ï¼Œæ”¯æŒä¸­æ–‡åˆ†è¯
- **ğŸ§  CTRé¢„æµ‹**: æœºå™¨å­¦ä¹ æ¨¡å‹é¢„æµ‹ç‚¹å‡»ç‡ï¼Œä¼˜åŒ–æœç´¢æ’åº
- **âš¡ å®æ—¶ä¼˜åŒ–**: å®æ—¶æ”¶é›†ç”¨æˆ·è¡Œä¸ºæ•°æ®ï¼ŒåŠ¨æ€è°ƒæ•´æ’åºç­–ç•¥
- **ğŸ“Š æ•°æ®åˆ†æ**: å®Œæ•´çš„ç”¨æˆ·è¡Œä¸ºåˆ†æå’Œæœç´¢æ•ˆæœç»Ÿè®¡

### æŠ€æœ¯ç‰¹æ€§
- **ğŸ—ï¸ å¾®æœåŠ¡æ¶æ„**: æ•°æ®æœåŠ¡ã€ç´¢å¼•æœåŠ¡ã€æ¨¡å‹æœåŠ¡åˆ†ç¦»
- **ğŸš€ é«˜æ€§èƒ½**: å¼‚æ­¥æ•°æ®ä¿å­˜ã€æ™ºèƒ½ç¼“å­˜ã€æ‰¹é‡æ“ä½œ
- **ğŸ›¡ï¸ é«˜å¯é æ€§**: å®Œå–„çš„é”™è¯¯å¤„ç†ã€æ•°æ®éªŒè¯ã€å¥åº·æ£€æŸ¥
- **ğŸ”§ æ˜“æ‰©å±•**: æ ‡å‡†åŒ–æ¥å£è®¾è®¡ï¼Œæ”¯æŒæ’ä»¶åŒ–æ‰©å±•

### MLOpsæ”¯æŒ
- **ğŸ“ˆ å®éªŒç®¡ç†**: A/Bæµ‹è¯•ã€æ¨¡å‹ç‰ˆæœ¬æ§åˆ¶
- **ğŸ”„ è‡ªåŠ¨åŒ–æµæ°´çº¿**: æ•°æ®æ”¶é›†â†’æ¨¡å‹è®­ç»ƒâ†’éƒ¨ç½²â†’ç›‘æ§
- **ğŸ“Š ç›‘æ§å‘Šè­¦**: å®æ—¶æ€§èƒ½ç›‘æ§ã€æ•°æ®è´¨é‡æ£€æŸ¥
- **ğŸ¯ å¯è§†åŒ–ç•Œé¢**: åŸºäºGradioçš„Webç•Œé¢

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- å†…å­˜: è‡³å°‘2GB
- å­˜å‚¨: è‡³å°‘1GBå¯ç”¨ç©ºé—´

### å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/tylerelyt/test_bed.git
cd test_bed

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### å¯åŠ¨ç³»ç»Ÿ

```bash
# æ–¹å¼1: ä½¿ç”¨å¯åŠ¨è„šæœ¬
./quick_start.sh

# æ–¹å¼2: ç›´æ¥å¯åŠ¨
python start_system.py
```

ç³»ç»Ÿå¯åŠ¨åï¼Œè®¿é—® http://localhost:7861 å³å¯ä½¿ç”¨ã€‚

## ğŸ“– ä½¿ç”¨æŒ‡å—

### åŸºæœ¬ä½¿ç”¨

1. **ç´¢å¼•æ„å»º**: ç³»ç»Ÿå¯åŠ¨æ—¶ä¼šè‡ªåŠ¨æ„å»ºç´¢å¼•ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨æ·»åŠ æ–‡æ¡£
2. **æœç´¢æµ‹è¯•**: åœ¨æœç´¢æ¡†ä¸­è¾“å…¥æŸ¥è¯¢è¯ï¼Œç³»ç»Ÿä¼šè¿”å›ç›¸å…³æ–‡æ¡£
3. **ç‚¹å‡»åé¦ˆ**: ç‚¹å‡»æœç´¢ç»“æœå¯ä»¥è®°å½•ç”¨æˆ·è¡Œä¸ºï¼Œç”¨äºæ¨¡å‹è®­ç»ƒ
4. **æ¨¡å‹è®­ç»ƒ**: æ”¶é›†è¶³å¤Ÿæ•°æ®åï¼Œå¯ä»¥è®­ç»ƒCTRé¢„æµ‹æ¨¡å‹

### é«˜çº§åŠŸèƒ½

#### 1. æ‰¹é‡æ•°æ®å¯¼å…¥

```python
from src.search_engine.data_utils import import_ctr_data
result = import_ctr_data("path/to/your/data.json")
```

#### 2. è‡ªå®šä¹‰æ’åºç­–ç•¥

```python
from src.search_engine.service_manager import get_index_service
index_service = get_index_service()
results = index_service.search("æŸ¥è¯¢è¯", top_k=10)
```

#### 3. å®éªŒç®¡ç†

ç³»ç»Ÿæ”¯æŒA/Bæµ‹è¯•ï¼Œå¯ä»¥åœ¨ç›‘æ§é¡µé¢é…ç½®ä¸åŒçš„æ’åºç­–ç•¥è¿›è¡Œå¯¹æ¯”ã€‚

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   UI Layer      â”‚    â”‚  Business Layer â”‚    â”‚  Service Layer  â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚   Portal    â”‚ â”‚â”€â”€â”€â–¶â”‚ â”‚ Search Tab  â”‚ â”‚â”€â”€â”€â–¶â”‚ â”‚DataService  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                 â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                 â”‚    â”‚ â”‚Training Tab â”‚ â”‚â”€â”€â”€â–¶â”‚ â”‚IndexService â”‚ â”‚
â”‚                 â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                 â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                 â”‚    â”‚ â”‚Monitor Tab  â”‚ â”‚â”€â”€â”€â–¶â”‚ â”‚ModelService â”‚ â”‚
â”‚                 â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµ

```
ç”¨æˆ·æŸ¥è¯¢ â†’ ç´¢å¼•æ£€ç´¢ â†’ åˆæ’åº â†’ CTRé¢„æµ‹ â†’ é‡æ’åº â†’ ç»“æœå±•ç¤º
    â†“
ç”¨æˆ·ç‚¹å‡» â†’ è¡Œä¸ºè®°å½• â†’ æ•°æ®å­˜å‚¨ â†’ æ¨¡å‹è®­ç»ƒ â†’ æ¨¡å‹æ›´æ–°
```

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

- **æ£€ç´¢å»¶è¿Ÿ**: < 100ms (10Kæ–‡æ¡£)
- **å¹¶å‘æ”¯æŒ**: 100+ å¹¶å‘ç”¨æˆ·
- **å†…å­˜ä½¿ç”¨**: < 500MB (åŸºç¡€é…ç½®)
- **å­˜å‚¨æ•ˆç‡**: å‹ç¼©ç‡ > 70%

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
intelligent-search-engine/
â”œâ”€â”€ src/                    # æºä»£ç 
â”‚   â””â”€â”€ search_engine/     
â”‚       â”œâ”€â”€ data_service.py      # æ•°æ®æœåŠ¡
â”‚       â”œâ”€â”€ index_service.py     # ç´¢å¼•æœåŠ¡
â”‚       â”œâ”€â”€ model_service.py     # æ¨¡å‹æœåŠ¡
â”‚       â”œâ”€â”€ service_manager.py   # æœåŠ¡ç®¡ç†å™¨
â”‚       â”œâ”€â”€ data_utils.py        # æ•°æ®å·¥å…·
â”‚       â””â”€â”€ portal.py           # UIå…¥å£
â”œâ”€â”€ models/                # æ¨¡å‹æ–‡ä»¶
â”œâ”€â”€ data/                  # æ•°æ®æ–‡ä»¶
â”œâ”€â”€ docs/                  # æ–‡æ¡£
â”œâ”€â”€ test/                  # æµ‹è¯•
â”œâ”€â”€ tools/                 # å·¥å…·è„šæœ¬
â””â”€â”€ requirements.txt       # ä¾èµ–
```

### æ‰©å±•å¼€å‘

#### æ·»åŠ æ–°çš„æ’åºç®—æ³•

1. åœ¨ `src/search_engine/ranking/` åˆ›å»ºæ–°çš„æ’åºæ¨¡å—
2. å®ç° `RankingInterface` æ¥å£
3. åœ¨ `IndexService` ä¸­æ³¨å†Œæ–°ç®—æ³•

#### æ·»åŠ æ–°çš„ç‰¹å¾

1. åœ¨ `CTRSampleConfig` ä¸­å®šä¹‰æ–°ç‰¹å¾
2. åœ¨ `DataService.record_impression` ä¸­è®¡ç®—ç‰¹å¾å€¼
3. æ›´æ–°æ¨¡å‹è®­ç»ƒé€»è¾‘

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
python -m pytest test/

# è¿è¡Œé›†æˆæµ‹è¯•
python test/test_integration.py

# æ€§èƒ½æµ‹è¯•
python test/test_performance.py
```

## ğŸ“ˆ ç›‘æ§

ç³»ç»Ÿæä¾›å¤šç»´åº¦ç›‘æ§ï¼š

- **ç³»ç»Ÿç›‘æ§**: CPUã€å†…å­˜ã€ç£ç›˜ä½¿ç”¨ç‡
- **ä¸šåŠ¡ç›‘æ§**: æœç´¢QPSã€ç‚¹å‡»ç‡ã€å“åº”æ—¶é—´
- **æ•°æ®ç›‘æ§**: æ•°æ®è´¨é‡ã€æ¨¡å‹æ€§èƒ½æŒ‡æ ‡
- **å‘Šè­¦æœºåˆ¶**: å¼‚å¸¸æ£€æµ‹å’Œè‡ªåŠ¨å‘Šè­¦

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [jieba](https://github.com/fxsjy/jieba) - ä¸­æ–‡åˆ†è¯
- [scikit-learn](https://scikit-learn.org/) - æœºå™¨å­¦ä¹ åº“
- [Gradio](https://gradio.app/) - Webç•Œé¢æ¡†æ¶
- [pandas](https://pandas.pydata.org/) - æ•°æ®å¤„ç†

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µ: https://github.com/tylerelyt/test_bed
- é—®é¢˜åé¦ˆ: https://github.com/tylerelyt/test_bed/issues
- é‚®ç®±: tylerelyt@gmail.com

## ğŸ”„ æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-07-14)
- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- ğŸ” åŸºç¡€æœç´¢åŠŸèƒ½
- ğŸ§  CTRé¢„æµ‹æ¨¡å‹
- ğŸ“Š æ•°æ®åˆ†æç•Œé¢
- ğŸ—ï¸ MLOpsæ”¯æŒ

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼ 